<turbo-frame
	id="adminListOperator">
	<ul>
		<div
			id="flash-messages">

			{% for label, messages in app.flashes %}
				<div
					class="alert alert-{{ label }}">
					{% for message in messages %}
						<p>
							{{ message }}
						</p>
					{% endfor %}
				</div>
			{% endfor %}
		</div>
		<div
			class="row">
			{% set fieldsName = ['Nom de l\'operateur', 'Prenom de l\'operateur', 'Code de l\'operateur', 'Equipe de l\'operateur', 'UAP de l\'operateur', 'Est-il un formateur?'] %}

			{% for fieldName in fieldsName %}
				<div
					class="col " style="color:white;">
					{{ fieldName }}
				</div>
			{% endfor %}
			<div
				class="col mx-auto"  style="color:white;">
				Actions
			</div>
		</div>
	</ul>
	<ul		
	data-controller="operator-admin-edit">
		{% if operatorForms|length > 0 %}
			{% for operatorId, operatorForm in operatorForms %}
				{{ form_start(operatorForm, {'attr': {'class': 'row', 'id': 'operatorForm' ~ operatorId}, 'action': path('app_operator_edit', {'id': operatorId})}) }}
				{% for field in fields %}
     				{% set customId = 'operatorForm' ~ field|capitalize ~ operatorId %}
					{{ form_row(operatorForm[field], 
					{						
					'id': customId,
					'attr': {
						'data-operator-admin-edit-target': field == 'isTrainer' ? 'operatorFormIsTrainer' : 'operatorForm' ~ field|capitalize
				}
			}) }}

			
				{% endfor %}
				<div
					class="col my-auto mx-auto">
					<button
						type="submit"
						class="btn btn-primary text-uppercase ">
						MAJ Op√©rateur
					</button>
					<a
						href="{{ path('app_operator_delete', {'id': operatorId}) }}" class="btn btn-danger text-uppercase">
						Supprimer
					</a>
				</div>


				{{ form_end(operatorForm) }}
			{% else %}
				<div
					class="card alert alert-danger">
					No operators found
				</div>
			{% endfor %}
		{% else %}
			<div
				class="card alert alert-danger">
				No operators found
			</div>
		{% endif %}
	</ul>


</turbo-frame>
