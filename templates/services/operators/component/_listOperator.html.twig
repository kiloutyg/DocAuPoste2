{% for label, messages in app.flashes %}
	{% for message in messages %}
		<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
			<div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
				<div class="toast-header text-black bg-{{ label }}">
					<strong class="me-auto">Notification</strong>
					<small>Maintenant</small>
				</div>
				<div class="toast-body" style="color: black;">
					{{ message }}
				</div>
			</div>
		</div>
	{% endfor %}
{% endfor %}
<turbo-frame id="training-records" class="d-flex flex-column ">

	{% if teamId is defined and uapId is defined and teamId is not empty and uapId is not empty %}
		<form id="trainingRecord-form-newOperator" class="flex-fill mx-1" action="{{path('app_training_new_operator', {'uploadId': upload.id, 'teamId': teamId, 'uapId': uapId})}}" method="post" data-turbo-frame="training-records">

			<div data-controller="operator-training">
				<div class="d-flex justify-content-between">
					<input type="text" class="form-control" data-operator-training-target="newOperator" data-action="keyup->operator-training#validateNewOperator" placeholder="prÃ©nom.nom" id="newOperator" name="newOperator">
					<input type="submit" class="btn btn-primary " value="Ajouter">
				</div>
				<div data-operator-training-target="newOperatorMessage" class="newOperator-message mx-auto"></div>

			</div>

		</form>
	{% endif %}

	{% if trainingRecords is defined and trainingRecords is not empty %}
		{% for record in trainingRecords %}
			<ul>
				{{record.operator.name}}
				-
				{{record.trained}}
			</ul>
		{% endfor %}
	{% else %}
		{% if selectedOperators is defined and selectedOperators is not empty %}

			{% for operator in selectedOperators %}
				<ul class="d-flex flex-row">

					<div style="flex:0.4;">
						{{operator.name}}
					</div>
					<div style="flex:0.2;">-</div>
					<div style="flex:0.4;">
						<select name="trained">
							<option value='' selected>Choose</option>
							<option value="true">Yes</option>
							<option value="false">No</option>
						</select>
					</div>
				</ul>
			{% endfor %}
		{% else %}
			<p style="flex:0.8;" class="justify-content-center mx-2">No training records found, current team and uap operators list</p>
			{% for operator in operators %}
				<ul class="d-flex flex-row">

					<div style="flex:0.4;">
						{{operator.name}}
					</div>
					<div style="flex:0.2;">-</div>
					<div style="flex:0.4;">
						<select name="trained">
							<option value='' selected>Choose</option>
							<option value="true">Yes</option>
							<option value="false">No</option>
						</select>
					</div>
				</ul>

			{% endfor %}

		{% endif %}
	{% endif %}
	{% include "services/_toasts.html.twig" %}

</turbo-frame>

{% block javascript %}
	{{encore_entry_script_tags('app')}}
	{{encore_entry_script_tags('toast')}}

{% endblock %}
