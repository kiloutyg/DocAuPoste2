{% extends 'base.html.twig' %}
{% block title %}Truc des operateurs
{% endblock %}
{% block body %}
{% set fieldsName = ['Nom de l\'operateur', 'Equipe de l\'operateur', 'UAP de l\'op√©rateur'] %}
{% set fields = ['name', 'Team', 'uap'] %}

<div class="card bg-secondary container row ">
	<h3>New Operator</h3>
	<ul>
		<div class="row">
			{% for fieldName in fieldsName %}
				<div class="col-3 mx-auto">{{ fieldName }}</div>
				{# Adjust the div class as needed #}
			{% endfor %}
			<div class="col-3">Actions</div>
			{# Column for actions like the update button #}
		</div>
	</ul>
	<ul>
		{{ form_start(newOperatorForm, {'attr': {'class': 'row', 'name': 'newOperator', 'id': 'newOperator'}}) }}

				{% for field in fields %}
					{{ form_row(newOperatorForm[field]) }}
				{% endfor %}
			<button type="submit" class="btn btn-primary  text-uppercase  submit-operator-creation col-3 my-auto mx-auto">Add Operator</button>
		{{ form_end(newOperatorForm) }}
	</ul>


		<h3>Existing Operators</h3>

		{# Display each label once #}
				<ul>
		<div class="row">
			{% for fieldName in fieldsName %}
				<div class="col-3 mx-auto">{{ fieldName }}</div>
				{# Adjust the div class as needed #}
			{% endfor %}
			<div class="col-3">Actions</div>
			{# Column for actions like the update button #}
		</div>
		</ul>

		<ul>
			{% for operatorId, operatorForm in operatorForms %}
				{{ form_start(operatorForm, {'attr': {'class': 'row'}, 'action': path('app_operator_edit', {'id': operatorId})}) }}

				{% for field in fields %}
					{{ form_row(operatorForm[field]) }}
				{% endfor %}
				<button type="submit" class="btn btn-primary text-uppercase submit-operator-creation col-3 my-auto mx-auto">Update Operator</button>

				{{ form_end(operatorForm) }}
			{% else %}
				<li>No operators found</li>
			{% endfor %}
		</ul>
	</div>

{% endblock %}
