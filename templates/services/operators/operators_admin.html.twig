{% extends 'base.html.twig' %}
{% block title %}
	Truc des operateurs
{% endblock %}
{% block body %}
	{% set fields = ['lastname', 'firstname', 'code', 'team', 'uap', 'isTrainer'] %}

	<div
		class="card bg-secondary container row mb-2"
		data-controller="operator-admin-creation opeartor-admin-search">
		<h2>
			Ajouter un nouvel Opérateur
		</h2>
		{% set fieldsName = ['Nom de l\'operateur', 'Prenom de l\'operateur', 'Code de l\'operateur', 'Equipe de l\'operateur', 'UAP de l\'operateur', 'Est-il un formateur?'] %}

	<ul>
		<div
			class="row">

			{% for fieldName in fieldsName %}
				<div
					class="col">
					{{ fieldName }}
				</div>
			{% endfor %}
			<div
				class="col mx-auto">
				Actions
			</div>
		</div>
	</ul>
	<ul>
		{{ form_start(newOperatorForm, {'attr': {'class': 'row', 'name': 'newOperator', 'id': 'newOperator'}}
		) }}
		{% for field in fields %}
			{{ form_row(newOperatorForm[field]) }}
		{% endfor %}
		<button
			type="submit"
			class="btn btn-primary text-uppercase col my-auto mx-auto"
			data-operator-admin-creation-target="newOperatorSubmitButton"
			disabled
			>
			Ajouter l'Opérateur
		</button>
		{{ form_end(newOperatorForm) }}
		<div class="card">
			<input type="hidden" id="newOperatorName" name="newOperatorName">   
		<div
			data-operator-admin-creation-target="newOperatorNameMessage"
			class="newOperatorName-message d-flex justify-content-evenly"></div>
		<div
			data-operator-admin-creation-target="newOperatorCodeMessage"
			class="newOperatorCode-message d-flex justify-content-evenly"></div>
		<div
			data-operator-admin-creation-target="newOperatorTransferMessage"
			class="newOperatorTransfer-message d-flex justify-content-evenly"></div>
		</div>
	</ul>
			
	<h2>
		Liste des Opérateurs
	</h2>
	
	<ul>
		<div class="card row m-3">
			<form 
			method="get" 
			action="{{ path('app_operator') }}"
			data-turbo-frame="adminListOperator"
			id="adminListOperator-form">
				<input 			
				class="form-control col-8"
				type="text" name="search" placeholder="Search operators..." value="{{ app.request.query.get('search') }}">
				<input 
				data-operator-admin-search-target="operatorAdminSearchSubmit" 
				class="btn btn-primary col-2" 
				label="Search" 
				type="submit"></input>
			</form>
		</div>
	</ul>
	<turbo-frame id="adminListOperator">
		{% include '/services/operators/admin_component/_adminListOperator.html.twig' %}
	</turbo-frame>
</div>{% endblock %}
